def fibonacci_to_decimal(fibonacci_number)
  # Инициализация массива для представления последовательности Фибоначчи с первыми двумя значениями.
  fib_sequence = [0, 1]
  # Инициализация переменной для отслеживания текущего десятичного числа.
  decimal_number = 0
  # Инициализация переменной для отслеживания индекса в последовательности Фибоначчи.
  fib_index = 2

  # Продолжение расширения последовательности Фибоначчи до тех пор, пока она не станет больше или равной введенному числу.
  while decimal_number < fibonacci_number
    # Вычисление следующего числа Фибоначчи.
    next_fib = fib_sequence[-1] + fib_sequence[-2]
    # Расширение последовательности Фибоначчи с новым числом.
    fib_sequence << next_fib
    # Увеличение индекса.
    fib_index += 1
    # Обновление текущего десятичного числа.
    decimal_number = next_fib
  end

  # Инициализация пустой строки для хранения десятичного представления.
  decimal_result = ""
  # Инициализация переменной для отслеживания остатка во время конвертации.
  remainder = fibonacci_number

  # Конвертация числа Фибоначчи в десятичное с использованием двоичного представления.
  (fib_index - 1).downto(2) do |i|
    if remainder >= fib_sequence[i]
      # Если остаток можно вычесть, добавляем "1" и обновляем остаток.
      decimal_result += "1"
      remainder -= fib_sequence[i]
    else
      # В противном случае добавляем "0".
      decimal_result += "0"
    end
  end

  # Добавляем "1", если остался какой-либо остаток.
  decimal_result += "1" if remainder >= 1

  # Преобразование двоичной строки в десятичное число и возврат результата.
  decimal_result.to_i(2)
end

print "Павел Валерьевич, введите число в системе счисления Фибоначчи: "
fibonacci_input = gets.chomp.to_i

decimal_output = fibonacci_to_decimal(fibonacci_input)

puts "В десятичной это же самое число: #{decimal_output}"
puts "Хорошего вам дня!"
